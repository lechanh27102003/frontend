<div *ngIf="showPopup" class="backdrop"></div>
<div *ngIf="showPopup" class="popup">
	<h2>{{title}}</h2>
	<form (ngSubmit)="submitForm()">
		<div class="detail">
			<div class="form-group">
				<label for="productName">Product Name:</label>
				<input type="text" id="productName" [(ngModel)]="productName" name="productName" required>
			</div>

			<div class="form-group">
				<label for="price">Price:</label>
				<input type="number" id="price" [(ngModel)]="price" name="price" required>
			</div>

			<div class="form-group">
				<label for="category">Category:</label>
				<select class="select" id="category" [(ngModel)]="categoryId" name="category" required>
					<option value="" disabled>Select a category</option>
					<option *ngFor="let cat of categories" [value]="cat.categoryId">{{cat.categoryName}}</option>
				</select>
			</div>

			<div class="form-group">
				<label for="stock">Stock:</label>
				<input type="number" id="stock" [(ngModel)]="stock" name="stock" required>
			</div>

			<div class="form-group">
				<label for="discount">Discount:</label>
				<input type="number" id="discount" [(ngModel)]="discount" name="discount" required>
			</div>

			<div class="form-group">
				<label for="productDescription">Product Description:</label>
				<textarea id="productDescription" [(ngModel)]="productDescription" name="productDescription"
					required></textarea>
			</div>

			<div class="productImage">
				<div class="newImage">
					<label for="productImage">Product Image:</label>
					<input type="file" id="productImage" (change)="onFileSelected($event)" accept="image/*" required>
				</div>
				<img class="image" *ngIf="imageUrl" [src]="imageUrl" alt="Product Image" width="100">
			</div>
		</div>
		<div class="buttons">
			<button class="button" type="submit">Submit</button>
			<button type="button" (click)="closePopup()">Cancel</button>
		</div>
	</form>
</div>